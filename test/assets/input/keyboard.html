<!DOCTYPE html>
<html>
  <head>
    <title>Keyboard test</title>
  </head>
  <body>
    <textarea></textarea>
    <script>
      window.result = "";
      let textarea = document.querySelector('textarea');
      textarea.focus();
      textarea.addEventListener('keydown', event => {
        log('Keydown:', event.key, event.which, modifiers(event));
      });
      textarea.addEventListener('keypress', event => {
        log('Keypress:', event.key, event.which, event.keyCode, event.charCode, modifiers(event));
      });
      textarea.addEventListener('keyup', event => {
        log('Keyup:', event.key, event.which, modifiers(event));
      });
      function modifiers(event) {
        let m = 0;
        if (event.altKey)
          m += 1;
        if (event.ctrlKey)
          m += 2;
        if (event.metaKey)
          m += 4;
        if (event.shiftKey)
          m += 8;
        return m;
      }
      function log(...args) {
        console.log.apply(console, args);
        result += args.join(' ') + '\n';
      }
      function getResult() {
        let temp = result.trim();
        result = "";
        return temp;
      }
    </script>
  </body>
</html>